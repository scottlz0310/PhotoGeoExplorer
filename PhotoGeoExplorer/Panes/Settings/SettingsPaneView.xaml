<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="using:PhotoGeoExplorer.Panes.Settings">
    <DataTemplate x:Key="SettingsPaneTemplate" x:DataType="vm:SettingsPaneViewModel">
        <ScrollViewer>
            <Grid Padding="16" MaxWidth="800">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <!-- ヘッダー -->
                <StackPanel Grid.Row="0" Spacing="8" Margin="0,0,0,24">
                    <TextBlock
                        Text="{Binding Title}"
                        Style="{ThemeResource TitleTextBlockStyle}" />
                    <TextBlock
                        Text="アプリケーション設定"
                        Style="{ThemeResource BodyTextBlockStyle}"
                        Opacity="0.7" />
                </StackPanel>

                <!-- 変更状態とアクションボタン -->
                <StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="8" Margin="0,0,0,16">
                    <Button
                        Content="保存"
                        Command="{Binding SaveCommand}"
                        IsEnabled="{Binding IsDirty}"
                        Style="{ThemeResource AccentButtonStyle}" />
                    <Button
                        Content="リセット"
                        Command="{Binding ResetCommand}" />
                    <TextBlock
                        Text="（変更あり）"
                        VerticalAlignment="Center"
                        Visibility="{Binding IsDirtyVisibility}"
                        Foreground="{ThemeResource SystemAccentColor}"
                        Margin="8,0,0,0" />
                </StackPanel>

                <!-- 設定項目 -->
                <StackPanel Grid.Row="2" Spacing="24">
                    <!-- 言語設定 -->
                    <StackPanel Spacing="8">
                        <TextBlock
                            Text="言語"
                            Style="{ThemeResource SubtitleTextBlockStyle}" />
                        <ComboBox
                            x:Name="LanguageComboBox"
                            Header="表示言語"
                            SelectedValuePath="Tag"
                            SelectedValue="{Binding Language, Mode=TwoWay}"
                            MinWidth="200">
                            <ComboBoxItem Content="システムデフォルト" Tag="" />
                            <ComboBoxItem Content="日本語" Tag="ja-JP" />
                            <ComboBoxItem Content="English" Tag="en-US" />
                        </ComboBox>
                        <TextBlock
                            Text="言語を変更した後は、アプリを再起動してください。"
                            Style="{ThemeResource CaptionTextBlockStyle}"
                            Opacity="0.7" />
                    </StackPanel>

                    <!-- テーマ設定 -->
                    <StackPanel Spacing="8">
                        <TextBlock
                            Text="外観"
                            Style="{ThemeResource SubtitleTextBlockStyle}" />
                        <RadioButtons
                            Header="テーマ"
                            SelectedIndex="{Binding Theme, Mode=TwoWay}">
                            <RadioButton Content="システムデフォルト" />
                            <RadioButton Content="ライトモード" />
                            <RadioButton Content="ダークモード" />
                        </RadioButtons>
                    </StackPanel>

                    <!-- 地図設定 -->
                    <StackPanel Spacing="8">
                        <TextBlock
                            Text="地図"
                            Style="{ThemeResource SubtitleTextBlockStyle}" />
                        <NumberBox
                            Header="デフォルトズームレベル"
                            Value="{Binding MapDefaultZoomLevel, Mode=TwoWay}"
                            Minimum="8"
                            Maximum="18"
                            SpinButtonPlacementMode="Inline"
                            MinWidth="200" />
                        <RadioButtons
                            Header="地図タイルソース"
                            SelectedIndex="{Binding MapTileSource, Mode=TwoWay}">
                            <RadioButton Content="OpenStreetMap" />
                            <RadioButton Content="Esri World Imagery (衛星)" />
                        </RadioButtons>
                    </StackPanel>

                    <!-- 表示設定 -->
                    <StackPanel Spacing="8">
                        <TextBlock
                            Text="表示"
                            Style="{ThemeResource SubtitleTextBlockStyle}" />
                        <ToggleSwitch
                            Header="画像ファイルのみ表示"
                            IsOn="{Binding ShowImagesOnly, Mode=TwoWay}" />
                        <ToggleSwitch
                            Header="起動時にクイックスタートを表示"
                            IsOn="{Binding ShowQuickStartOnStartup, Mode=TwoWay}" />
                    </StackPanel>

                    <!-- 更新設定 -->
                    <StackPanel Spacing="8">
                        <TextBlock
                            Text="更新"
                            Style="{ThemeResource SubtitleTextBlockStyle}" />
                        <ToggleSwitch
                            Header="自動的に更新を確認"
                            IsOn="{Binding AutoCheckUpdates, Mode=TwoWay}" />
                    </StackPanel>

                    <!-- インポート/エクスポート -->
                    <StackPanel Spacing="8">
                        <TextBlock
                            Text="設定の管理"
                            Style="{ThemeResource SubtitleTextBlockStyle}" />
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button
                                Content="エクスポート..."
                                Command="{Binding ExportCommand}"
                                IsEnabled="False"
                                ToolTipService.ToolTip="MainWindow統合時に実装予定" />
                            <Button
                                Content="インポート..."
                                Command="{Binding ImportCommand}"
                                IsEnabled="False"
                                ToolTipService.ToolTip="MainWindow統合時に実装予定" />
                        </StackPanel>
                        <TextBlock
                            Text="設定をファイルにエクスポートしたり、ファイルからインポートすることができます。（MainWindow統合時に有効化）"
                            Style="{ThemeResource CaptionTextBlockStyle}"
                            Opacity="0.7"
                            TextWrapping="Wrap" />
                    </StackPanel>

                    <!-- 最後に開いたフォルダ -->
                    <StackPanel Spacing="8">
                        <TextBlock
                            Text="最後に開いたフォルダ"
                            Style="{ThemeResource SubtitleTextBlockStyle}" />
                        <TextBlock
                            Text="{Binding LastFolderPath}"
                            Style="{ThemeResource BodyTextBlockStyle}"
                            Opacity="0.7"
                            TextWrapping="Wrap" />
                    </StackPanel>
                </StackPanel>
            </Grid>
        </ScrollViewer>
    </DataTemplate>
</ResourceDictionary>
